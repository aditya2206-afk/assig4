<!doctype html>
<html>
  <head>
    <title>University Finder</title>
    <link rel="stylesheet" href="university.css" />
  </head>
  <body>
    <div class="container">
      <h2>University Finder</h2>

      <div class="search-box">
        <input type="text" id="country" placeholder="Enter Country Name" />
        <button onclick="getUniversities()">Search</button>
      </div>

      <table id="uniTable">
        <thead>
          <tr>
            <th>University Name</th>
            <th>Website</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <script>
      function getUniversities() {
        var country = document.getElementById("country").value;

        if (country === "") {
          alert("Please enter country name");
          return;
        }

        var url = "http://universities.hipolabs.com/search?country=" + country;

        var xhr = new XMLHttpRequest();
        xhr.open("GET", url, true);

        xhr.onload = function () {
          if (xhr.status === 200) {
            var data = JSON.parse(xhr.responseText);
            var tbody = document.querySelector("#uniTable tbody");
            tbody.innerHTML = "";

            for (var i = 0; i < data.length; i++) {
              var row =
                "<tr>" +
                "<td>" +
                data[i].name +
                "</td>" +
                "<td><a href='" +
                data[i].web_pages[0] +
                "' target='_blank'>Visit</a></td>" +
                "</tr>";

              tbody.innerHTML += row;
            }
          } else {
            alert("Error fetching data");
          }
        };

        xhr.send();
      }
    </script>
  </body>
</html>
